<div class="modal-content">
  <div class="container-top">
    <button class="btn btn-secondary right-button" (click)="cancel()"><i class="fas fa-times"></i></button>
  </div>
  <h3 class="modal-tittle">Añada un usuario</h3>

  <form [formGroup]="newEmpleadoForm" (ngSubmit)="onSubmit()">
    <div class="father-container">
    <div class="child-container">
    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input type="text" class="form-control" id="nombre" formControlName="nombre" maxlength="50" (input)="updateNombreCounter()" (keypress)="onKeyPress($event)">
      <div style="margin-left: 10px; font-size: 12px; color: #999999;">{{nombreCounter}} characters remaining</div>
      <div *ngIf="newEmpleadoForm.get('nombre')?.invalid && newEmpleadoForm.get('nombre')?.touched">
        <small class="text-danger">El nombre es requerido</small>
      </div>
    </div>
    <div class="form-group">
      <label for="apellido">Apellido</label>
      <input type="text" class="form-control" id="apellido" formControlName="apellido" maxlength="50" (input)="updateNombreCounter()" (keypress)="onKeyPress($event)">
      <div style="margin-left: 10px; font-size: 12px; color: #999999;">{{apellidoCounter}} characters remaining</div>
      <div *ngIf="newEmpleadoForm.get('apellido')?.invalid && newEmpleadoForm.get('apellido')?.touched">
        <small class="text-danger">El apellido es requerido</small>
      </div>
    </div>
    <div class="form-group">
      <label for="correo">Correo</label>
      <input type="email" class="form-control" id="correo" formControlName="correo" maxlength="50" (input)="updateNombreCounter()">
      <div style="margin-left: 10px; font-size: 12px; color: #999999;">{{correoCounter}} characters remaining</div>
      <div *ngIf="newEmpleadoForm.get('correo')?.invalid && newEmpleadoForm.get('correo')?.touched" >
        <small class="text-danger">El correo es requerido, debe ser un correo con el formato correcto </small>
      </div>
    </div>
    <div class="form-group">
      <label for="telefono">Teléfono</label>
      <input type="text" class="form-control" id="telefono" formControlName="telefono" maxlength="8" (input)="updateNombreCounter()" (keypress)="onKeyPressTelefono($event)">
      <div style="margin-left: 10px; font-size: 12px; color: #999999;">{{telefonoCounter}} characters remaining</div>
      <div *ngIf="newEmpleadoForm.get('telefono')?.invalid && newEmpleadoForm.get('telefono')?.touched">
        <small class="text-danger">El telefono es requerido, 8 caracteres minimo</small>
      </div>
    </div>
  </div>
  <div class="child-container">
    <div class="form-group">
      <label for="departamento">Departamento</label>
      <select class="form-control" id="departamento" formControlName="departamento" (change)="onDepartmentChange(newEmpleadoForm.get('departamento')?.value)">
        <option value="">Seleccione un departamento</option>
        <option *ngFor="let department of departments" [value]="department.nombre">{{ department.nombre }}</option>
      </select>
      <div *ngIf="newEmpleadoForm.get('departamento')?.invalid && newEmpleadoForm.get('departamento')?.touched">
        <small class="text-danger">El departamento es requerido</small>
      </div>
    </div>
    <div class="form-group" style="margin-top: 27px;">
      <label for="municipio">Municipio</label>
      <select class="form-control" id="municipio" formControlName="municipio">
        <option value="">Seleccione un municipio</option>
        <option *ngFor="let municipality of municipalities" [value]="municipality">{{ municipality.nombre }}</option>
      </select>
      <div *ngIf="newEmpleadoForm.get('municipio')?.invalid && newEmpleadoForm.get('municipio')?.touched">
        <small class="text-danger">El municipio es requerido</small>
      </div>
    </div>
  
    
</div>
</div>
<div *ngIf="errorMensaje" class="text-danger text-center" >{{ errorMensaje }}</div>
<div class="btn-container">
  <button type="submit" class="btn btn-success">Añadir</button>
  <button (click)="cancel()" class="btn btn-secondary cancel">Cancelar</button>
</div>

  </form>
</div>

